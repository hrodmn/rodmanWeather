<html>
  <head>
    <!--Load the Ajax API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">

 // Load the Visualization API and the piechart package.
    google.charts.load('current', {'packages':['corechart']});
      
    // Set a callback to run when the Google Visualization API is loaded.
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
    	
    	// Create our data table out of JSON data loaded from server.
    	var jsonData = $.ajax({
      	  url: "weatherQuery.php",
      	  dataType:"json",
      	  async: false
      	  }).responseText;
    	// Create our data table out of JSON data loaded from server.
		var data = new google.visualization.DataTable(jsonData);
      	var materialOptions = {
    		  chart:{
    			  title: 'Last 24 hours:',
    		  },
              curveType: 'function',
              legend: { position: 'bottom' },
              width: 800,
              height: 400,
              series: {
                  0: {targetAxisIndex: 0},
                  1: {targetAxisIndex: 1}
                },
              vAxes: {
                  // Adds titles to each axis.
                  0: {title: 'Temperature (Fahrenheit)'},
                  1: {title: 'Humidity (%)'}
                },
              hAxis: {
                  format: 'M-d hh',
            	  gridlines: {
                    count: -1,
                    units: {
                      days: {format: ['MMM dd']},
                      hours: {format: ['HH:mm', 'ha']},
                    }
                  },
                  minorGridlines: {
                    units: {
                      hours: {format: ['hh:mm:ss a', 'ha']},
                      minutes: {format: ['HH:mm a Z', ':mm']}
                    }
                  }
                }
              };
      	var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
        chart.draw(data,  options);
      // Instantiate and draw our chart, passing in some options.
      // Do not forget to check your div ID
      
    }
    </script>
  </head>

  <body>
    <!--this is the div that will hold the pie chart-->
    <div id="chart_div"></div>
  </body>
</html>